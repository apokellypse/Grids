function arcTween(e,t){return function(){d3.select(this).transition().delay(t).attrTween("d",function(t){var a=d3.interpolate(t.outerRadius,e);return function(e){return t.outerRadius=a(e),arc(t)}})}}function midAngle(e){return e.startAngle+(e.endAngle-e.startAngle)/2}$(document).ready(function(){console.log("hi");var e="https://public-api.wordpress.com/rest/v1.1/sites/apokellypse.wordpress.com/posts",t=4,a={NAV:".nav",MOBILE:"(max-width: 800px)",TRIGGER:".js-nav-trigger",BLOG:".js-blog-template",BLOG_SCRIPT:".js-blog-script",PLS_FORMAT:".js-unformatted"},n=function(e,t,a){null!==e&&"undefined"!=typeof e&&(e.addEventListener?e.addEventListener(t,a,!1):e.attachEvent?e.attachEvent("on"+t,a):e["on"+t]=a)},r=function(){var e=window.matchMedia(a.MOBILE);e.matches?$(a.NAV).addClass("hidden"):$(a.NAV).removeClass("hidden")},s=function(e){var t=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],a=["January","Febuary","March","April","May","June","July","August","September","October","November","December"],n=e.getUTCDay(),r=e.getUTCDate(),s=e.getUTCMonth(),i=e.getUTCFullYear();return t[n]+", "+a[s]+" "+r+", "+i},i=function(){var e=$(a.PLS_FORMAT);$.map(e,function(e){console.log($(e));var t=new Date($(e).text()),n=s(t);$(e).text(n),$(e).removeClass(a.PLS_FORMAT)})},o=function(e){console.log(e),console.log(e.posts[0].title);var t=$(a.BLOG_SCRIPT).html(),n=Handlebars.compile(t);$(a.BLOG).html(n(e)),i()},d=function(e){$(a.NAV).hasClass("hidden")?(console.log("collapsed"),$(a.NAV).removeClass("hidden"),$(this).text("- collapse menu -")):($(a.NAV).addClass("hidden"),$(this).text("+ expand menu +"))};r(),n(window,"resize",r),$(a.TRIGGER).on("click",d),$.get(e,{number:t},o)});var data=[{label:"Marching Band",count:5},{label:"Coding Projects",count:5},{label:"Napping",count:3},{label:"Painting",count:4},{label:"Gaming",count:2},{label:"Campus Events",count:3},{label:"Quora",count:3},{label:"Spotify",count:4}],color=d3.scale.ordinal().range(["#003b56","#00657a","#419596","#98c3c7"]),blueShades=function(e){return frac=e.startAngle/(2*Math.PI),amt=225*frac,d3.rgb(30+amt,149,150)},width=800,height=450,radius=Math.min(width,height)/2,outerRadius=height/2-20,innerRadius=outerRadius/3,pie=d3.layout.pie().padAngle(.025).value(function(e){return e.count}),arc=d3.svg.arc().padRadius(outerRadius).innerRadius(innerRadius),innerArc=d3.svg.arc().outerRadius(outerRadius).innerRadius(innerRadius),outerArc=d3.svg.arc().innerRadius(.9*radius).outerRadius(.9*radius),svg=d3.select(".pie-chart").append("svg").append("g").attr("transform","translate("+width/2+","+(height+50)/2+")");svg.append("g").attr("class","slices"),svg.append("g").attr("class","labels"),svg.append("g").attr("class","lines"),svg.select(".slices").selectAll("path").data(pie(data)).enter().append("path").each(function(e){e.outerRadius=outerRadius-20}).attr("d",arc).style("fill",function(e){return console.log(e),blueShades(e)}).on("mouseover",arcTween(outerRadius,0)).on("mouseout",arcTween(outerRadius-20,150));var text=svg.select(".labels").selectAll("text").data(pie(data)).enter().append("text").attr("dy","0.25em").text(function(e){return e.data.label});text.attr("transform",function(e){return pos=outerArc.centroid(e),pos[0]=radius*(midAngle(e)<Math.PI?1.1:-1.1),"translate("+pos+")"}).attr("text-anchor",function(e){return midAngle(e)<Math.PI?"start":"end"});var line=svg.select(".lines").selectAll("polyline").data(pie(data)).enter().append("polyline");line.attr("points",function(e){return pos=outerArc.centroid(e),pos[0]=radius*(midAngle(e)<Math.PI?1.05:-1.05),[innerArc.centroid(e),outerArc.centroid(e),pos]});